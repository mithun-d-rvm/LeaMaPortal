@ViewBag.EdPaymentds
@model LeaMaPortal.Models.UtilityPaymentPrintModel 
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/bootstrap.js"></script>
<script src="~/Scripts/bootstrap.min.js"></script>

<div class="modal-content">
    <button type="button" class="close" data-dismiss="modal" style="margin-top: -25px;margin-right: -26px;font-size: xx-large; color:black;background-color:white">×</button>
    <div id="PrintelementID">
        <div class="modal-body">
            <div style="padding:20px 20px 0px 20px">
                <div style="width:25%; text-align:left; float:left;">
                    <p style="margin-bottom:2px !important;">Tel: +971-2-2222844</p>
                    <p style="margin-bottom:2px !important;">Fax: +971-2-2222874</p>
                    <p style="margin-bottom:2px !important;">P.O. Box: 60885</p>
                    <p style="margin-bottom:2px !important;">Abu Dhabi, U.A.E</p>
                    <p style="margin-bottom:2px !important;">E-Mail: info@hameeminvest.com</p>
                    <p style="margin-bottom:2px !important;font-size:10px;">Limited Liability Company, Paid up Capital 150,000</p>
                </div>

                <div style="width:25%; text-align:right; float:right;">
                    <p style="margin-bottom:2px !important;">Tel: +971-2-2222844</p>
                    <p style="margin-bottom:2px !important;">Fax: +971-2-2222874</p>
                    <p style="margin-bottom:2px !important;">P.O. Box: 60885</p>
                    <p style="margin-bottom:2px !important;">Abu Dhabi, U.A.E</p>
                    <p style="margin-bottom:2px !important;">E-Mail: info@hameeminvest.com</p>
                    <p style="margin-bottom:2px !important;font-size:10px;">Limited Liability Company, Paid up Capital 150,000</p>
                </div>
                <div style="width:50%; text-align:center;margin:auto;">
                    <img src="~/Images/logo.jpg">  @*Logo-Bitmap.png*@
                </div>

            </div>

            <div>
                <div style="padding:20px 20px 0px 20px; clear:both;">
                    <div style="width:33.33%; text-align:center; float:left;">
                        <table style="text-align:center;">
                            <tr>
                                <td style="padding:3px 5px">Dhs Arabic</td>
                                <td style="padding:3px 5px 3px 5px">Fls Ara</td>
                            </tr>
                            <tr">
                                <th style="font-size:14px;text-align:center;">@Model.Dhirams </th>
                                <th style="font-size:14px;text-align:center;">@Model.Fils </th>
                                </tr>
                        </table>
                    </div>

                    <div style="width:33.33%; text-align:right; float:right;">
                        <div style="margin-bottom:2px !important;"><strong><i>No.</i>HI/ </strong>@Model.PaymentNo</div>
                        <div style="margin-bottom:2px !important;">Date:&nbsp;<span style="border-bottom:3px dotted #b5b5b5;">&nbsp; @Model.PaymentDate &nbsp;</span>&nbsp;:Arabic</div>
                    </div>
                    <div style="width:33.33%; text-align:center;margin:auto;">
                        <div style="font-size:25px; font-weight:bold;">Arabic script</div>
                        <div style="font-size:25px; font-weight:bold; text-decoration:overline;">
                            Payment Voucher</divstyle="font-size:25px;>
                        </div>
                    </div>

                    <div style="padding:30px 20px 30px 20px; clear:both;">
                        <div>
                            <div style="width:25%; text-align:left; float:left;">
                                <p style="margin-bottom:0px !important;">Paid to Mr. / M /s.</p>
                            </div>
                            <div style="width:25%; text-align:right; float:right;">
                                <p style="margin-bottom:0px !important;">Arabic</p>
                            </div>
                            <div style="width:50%; text-align:center;border-bottom:3px dotted #b5b5b5; margin:auto;">
                                @Model.Supplier_name
                            </div>
                        </div>
                        <div style="clear:both; padding-top:20px;">
                            <div style="width:15%; text-align:left; float:left;">
                                <p style="margin-bottom:0px !important;">The sum of Dhs.</p>
                            </div>
                            <div style="width:15%; text-align:right; float:right;">
                                <p style="margin-bottom:0px !important;">:Arabic text</p>
                            </div>
                            <div style="width:70%; text-align:center;border-bottom:3px dotted #b5b5b5; margin:auto;">
                                <p>@Model.AmtInWords</p>
                            </div>
                        </div>
                        <div style="clear:both; padding-top:40px; ">
                            <div style="width:100%;border-bottom:3px dotted #b5b5b5;margin:auto;"></div>
                        </div>
                        <div style="padding-top:20px;">
                            <div style="text-align:left; float:left;">
                                <p>Cash / Cheque No</p>
                            </div>
                            @if (Model.PaymentMode == "cash")
                            {<div style="width:33.33%; text-align:center; float:left;border-bottom:3px dotted #b5b5b5;">
                                @Model.PaymentMode
                            </div> 
                            }

                            @if (Model.PaymentMode == "cheque")
                            {<div style="width:33.33%; text-align:center; float:left;border-bottom:3px dotted #b5b5b5;">
                                @Model.DDChequeNo 
                            </div>
                            }
                            @if (Model.PaymentMode == "pdc")
                            {<div style="width:33.33%; text-align:center; float:left;border-bottom:3px dotted #b5b5b5;">
                                @Model.DDChequeNo
                            </div>

                            }
                            @if (Model.PaymentMode == "online")
                            {
                                <div style="width:33.33%; text-align:center; float:left;border-bottom:3px dotted #b5b5b5;">
                                    @Model.PaymentMode
                                </div>

                            }
                            @if (Model.PaymentMode == "Advance Adjust")
                            {<div style="width:33.33%; text-align:center; float:left;border-bottom:3px dotted #b5b5b5;">
                                @Model.PaymentMode
                            </div>

                            }

                            <div style="width:16.66%; text-align:left; float:left;">
                                <p>:Arabic text</p>
                            </div>
                            <div style=" text-align:right; float:right;">
                                <p>:Arabic</p>
                            </div>
                            @if (Model.PaymentMode == "cash")
                            {
                                <div style="width:16.66%; text-align:center; float:right;border-bottom:3px dotted #b5b5b5;">
                                    &nbsp;@Model.PaymentDate
                                </div>
                            }
                            @if (Model.PaymentMode == "cheque")
                            {
                                <div style="width:16.66%; text-align:center; float:right;border-bottom:3px dotted #b5b5b5;">
                                    &nbsp;@Model.Cheqdate 
                                </div>

                            }
                            @if (Model.PaymentMode == "pdc")
                            {
                                <div style="width:16.66%; text-align:center; float:right;border-bottom:3px dotted #b5b5b5;">
                                    &nbsp;@Model.Cheqdate
                                </div>
                            }
                            @if (Model.PaymentMode == "online")
                            {
                                <div style="width:16.66%; text-align:center; float:right;border-bottom:3px dotted #b5b5b5;">
                                    &nbsp;@Model.PaymentDate
                                </div>
                            }
                            @if (Model.PaymentMode == "Advance Adjust")
                            {
                                <div style="width:16.66%; text-align:center; float:right;border-bottom:3px dotted #b5b5b5;">
                                    &nbsp;@Model.PaymentDate
                                </div>
                            }
                            <div style="width:8.33%; text-align:right; float:right;">
                                <p>Dated &nbsp;</p>
                            </div>
                           
                        </div>

                        <div style="clear:both;">
                            <div style="width:8.33%; text-align:left; float:left;">
                                <p>Bank:</p>
                            </div>
                            <div style="width:8.33%; text-align:right; float:right;">
                                <p>:Arabic</p>
                            </div>
                            <div style="width:83.33%; text-align:center; float:right;border-bottom:3px dotted #b5b5b5;">
                                &nbsp;@Model.BankAcName
                            </div>

                        </div>
                        <div style="clear:both;">
                            <div style="width:8.33%; text-align:left; float:left;">
                                <p>Being:</p>
                            </div>
                            <div style="width:8.33%; text-align:right; float:right;">
                                <p>:Arabic</p>
                            </div>
                            <div style="width:83.33%; text-align:center; float:right;border-bottom:3px dotted #b5b5b5;">
                                &nbsp;@Model.Narration 
                            </div>

                        </div>

                    </div>
                    <div style="padding-bottom:10px;">
                        <div style="padding-top:70px;">
                            <div style="width:16.66%; text-align:center; float:left;border-bottom:3px dotted #b5b5b5;"></div>

                            <div style="width:16.66%; text-align:center; float:right;border-bottom:3px dotted #b5b5b5;"></div>
                        </div>
                        <div style="clear: both;">
                            <div style="width:16.66%; text-align:center; float:left;">Prepared By</div>
                            <div class="col-xs-6 tecent padzero"></div>
                            <div style="width:16.66%; text-align:center; float:right;">Recieved By</div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div>
 
    </div>
</div>



      
<hr />
<div class="row">
    <div class="col-md-2">

    </div>
    <div class="col-md-8">
        <textarea rows="5" class="form-control" id="otherTerms" placeholder="other terms" style="display:none"></textarea>
    </div>
    <div class="col-md-2">

    </div>


</div>

<style>
    .beta td, th {
        border: 1px solid black;
        border-collapse: collapse;
        padding: 5px;
    }
</style>


<div class="row" style="padding-top:8%; text-align:center;">
    <input type="button" style="background-color: #554289;
    color: white;
    border-radius: 15px !important;
    width: 200px;
    padding: 10px !important;" value="Print" id="btnPrint" />
    @*<input type="button" class="utilitypayment-print-update" style="background-color: #554289;
    color: white;
    border-radius: 15px !important;
    width: 200px;
    padding: 10px !important;" value="Update Other Terms" data-agreementno="@Model.PaymentNo" target="#UtilityPaymentModal" />*@

    @*<input type="button" class="utilitypayment-print-update" style="background-color: #554289;
    color: white;
    border-radius: 15px !important;
    width: 200px;

    padding: 10px !important;" value="Update Other Terms" data-paymentno="@Model.PaymentNo" target="#UtilityPaymentModal" />*@
    @*@Html.ActionLink(" ", "Print", null, new { @class = "glyphicon glyphicon-print  agreement-print-update", title = "Update other terms", @data_toggle = "modal", @data_target = "#contractModal", @data_agreementno = Model.Agreement_No })*@
</div>
<script type="text/javascript">

    $(".utilitypayment-print-update").click(function (e) {
        // $("#img-loader").removeClass("hide");
        e.preventDefault();
        var id = $(this).data("agreementno");
        alert(id);
    alert($("#otherTerms").val());
        $.ajax(
            {
                url: "../UtilityPayment/Print",
                type: "POST",
                data: { UtilityPaymentNo: id, otherTerms:$("#otherTerms").val() },

                success: function (result) {
                    //var data=jQuery.parseJSON(result);
                    if (result.Errors == undefined || result.Errors == "") {
                        $("#PrintContainer").empty();
                        $("#PrintContainer").html(result);
                        $("#UtilityPaymentModal").modal('show');

                    }
                    else {
                        $("#masterResultModal").contents().find(".modal-header").removeClass("result-modal-success");
                        $("#masterResultModal").contents().find(".modal-header").addClass("result-modal-error");
                        $(".result-title").text("Failure");
                        $(".result-modal-body span").text(data.Errors);
                        $('#masterResultModal').modal('show');
                        //alert(data.Errors);
                    }
                },
                error: function (jqXhr, textStatus, errorThrown) {
                    alert("Error '" + jqXhr.status + "' (textStatus: '" + textStatus + "', errorThrown: '" + errorThrown + "')");
                },
                complete: function () {
                    // $("body").scrollTop(0);
                }
            });
    });
    function printData() {
     //   alert(1);
        var divToPrint = document.getElementById("PrintelementID");
        newWin = window.open("");
        newWin.document.write(divToPrint.outerHTML);
        newWin.print();
        newWin.close();
        //$("#contractModal").modal('hide');
    }
    //printData();
        $(document).ready()
        {

         //btnPrint button id
            $('#btnPrint').on('click', function () {
                               printData();
            })

        }
</script>


