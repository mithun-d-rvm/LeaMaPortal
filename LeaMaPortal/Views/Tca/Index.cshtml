<!--
  File Name      : PropertyProfiling.cshtml
  Description    : Property profiling page
  Created Date   : 24-Mar-2017
  Notes          : <Notes>
-->


@{
    ViewBag.Title = "Property Profiling";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="inner-block p-t-5-p">
    <div class="blank">
        <div id="AgreementForm">
        </div>
        <div id="AgreementPdc">
        </div>
        <div id="AgreementFacility">
        </div>
        <div id="AgreementDocument">
        </div>
        <div id="AgreementUtility">
        </div>
        <div id="AgreementUnit">
        </div>
        <div id="AgreementCheckList">
        </div>
        @*@Html.Partial("Agreement/_AgreementForm")*@

        <!-- Begin Grid view -->
        <div class="row">
            &nbsp;
        </div>
        <div class="row leama-fieldset leama-header-top" style="background-color:white;">
            <div id="agreementList">

            </div>
        </div>
        <!-- End Grid view -->
        <!-- Trigger the modal with a button -->
        <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#closureModal">Closure Modal</button>

            <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#renewalModal">Renewal Modal</button>

            <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#statusModal">Status Modal</button>

        <!-- Modal -->
      
    </div>
</div>

<script>
    $("#test-modal").click(function (e) {
        $('#myModal').modal('hide');
    });

</script>


<!-- including css & jQuery Dialog UI here-->
@*<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/themes/ui-darkness/jquery-ui.css" rel="stylesheet">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>

    <div class="inner-block p-t-5-p">
        <div class="blank">

            <div class="main">
                <div id="dialog" title="Dialog Form">
                    <form action="" method="post">
                        <label>Name:</label><br />
                        <input type="text" id="name" name="name"><br />

                        <label>Email:</label><br />
                        <input type="text" id="email" name="email"><br />

                        <input type="submit" id="submit" value="Submit" />
                    </form>
                </div>
                <h2>jQuery Dialog Form Example</h2><hr />
                <p>Click below button to see jQuery dialog form.</p>
                <input type="button" id="button" value="Open Dialog Form" />
            </div>

        </div>
    </div>

    <script>

        $(document).ready(function () {

            $(function () {
                $("#dialog").dialog({
                    autoOpen: false
                });
                $("#button").on("click", function () {
                    $("#dialog").dialog("open");
                });
            });

            //validating Form Fields.....
            $("#submit").click(function (e) {

                var email = $("#email").val();
                var name = $("#name").val();


                if (email === '' || name === '') {
                    alert("Please fill all fields...!!!!!!");
                    e.preventDefault();
                }
                //else if (!(email).match(emailReg)) {
                //    alert("Invalid Email...!!!!!!");
                //    e.preventDefault();
                //}
                else {
                    alert("Form Submitted Successfully......");
                }

            });

        });


    </script>*@

<script>
    CreateAgreement();
    //AgreementPdc();
    //AgreementDocument();
    //AgreementUtility();
    //AgreementUnit();
    //AgreementCheckList();
    getAgreementList();
    function CreateAgreement() {
        debugger;
        $("#img-loader").removeClass("hide");
        $.ajax(
        {
            url: "../Tca/AddOrUpdate",
            type: "Get",
            data: {},
            contentType: "application/json",
            processData: false,
            success: function (html) {
                $("#AgreementForm").html(html);
            },
            error: function (jqXhr, textStatus, errorThrown) {
                alert("Error '" + jqXhr.status + "' (textStatus: '" + textStatus + "', errorThrown: '" + errorThrown + "')");
            },
            complete: function () {
                
               
                var AgreementNo = $("#Agreement_No").val();
                AgreementPdc(AgreementNo);
                AgreementFacility(AgreementNo);
                AgreementDocument(AgreementNo);
                AgreementUtility(AgreementNo);
                AgreementUnit(AgreementNo);
                AgreementCheckList(AgreementNo);
                $("#img-loader").addClass("hide");
            }
        });
    }
    function AgreementPdc(AgreementNo) {
        debugger;
        $("#img-loader").removeClass("hide");
        $.ajax(
        {
            url: "../Tca/AgreementPdc",
            type: "Get",
            data: { AgreementNo: AgreementNo },
           // contentType: "application/json",
           // processData: false,
            success: function (html) {
                $("#AgreementPdc").html(html);
            },
            error: function (jqXhr, textStatus, errorThrown) {
                alert("Error '" + jqXhr.status + "' (textStatus: '" + textStatus + "', errorThrown: '" + errorThrown + "')");
            },
            complete: function () {
                $("#img-loader").addClass("hide");
            }
        });
    }
    function AgreementFacility(AgreementNo) {
        debugger;
        $("#img-loader").removeClass("hide");
        $.ajax(
        {
            url: "../Tca/AgreementFacility",
            type: "Get",
            data: { AgreementNo: AgreementNo },
            //contentType: "application/json",
            //processData: false,
            success: function (html) {
                $("#AgreementFacility").html(html);
            },
            error: function (jqXhr, textStatus, errorThrown) {
                alert("Error '" + jqXhr.status + "' (textStatus: '" + textStatus + "', errorThrown: '" + errorThrown + "')");
            },
            complete: function () {
                $("#img-loader").addClass("hide");
            }
        });
    }
    function AgreementDocument(AgreementNo) {
        debugger;
        $("#img-loader").removeClass("hide");
        $.ajax(
        {
            url: "../Tca/AgreementDocument",
            type: "Get",
            data: { AgreementNo: AgreementNo },
            //contentType: "application/json",
            //processData: false,
            success: function (html) {
                $("#AgreementDocument").html(html);
            },
            error: function (jqXhr, textStatus, errorThrown) {
                alert("Error '" + jqXhr.status + "' (textStatus: '" + textStatus + "', errorThrown: '" + errorThrown + "')");
            },
            complete: function () {
                $("#img-loader").addClass("hide");
            }
        });
    }
    function AgreementUtility(AgreementNo) {
        $("#img-loader").removeClass("hide");
        $.ajax(
        {
            url: "../Tca/AgreementUtility",
            type: "Get",
            data: { AgreementNo: AgreementNo },
            //contentType: "application/json",
            //processData: false,
            success: function (html) {
                $("#AgreementUtility").html(html);
            },
            error: function (jqXhr, textStatus, errorThrown) {
                alert("Error '" + jqXhr.status + "' (textStatus: '" + textStatus + "', errorThrown: '" + errorThrown + "')");
            },
            complete: function () {
                $("#img-loader").addClass("hide");
            }
        });
    }
    function AgreementUnit(AgreementNo) {
        $("#img-loader").removeClass("hide");
        $.ajax(
        {
            url: "../Tca/AgreementUnit",
            type: "Get",
            data: { AgreementNo: AgreementNo },
            //contentType: "application/json",
            //processData: false,
            success: function (html) {
                $("#AgreementUnit").html(html);
            },
            error: function (jqXhr, textStatus, errorThrown) {
                alert("Error '" + jqXhr.status + "' (textStatus: '" + textStatus + "', errorThrown: '" + errorThrown + "')");
            },
            complete: function () {
                $("#img-loader").addClass("hide");
            }
        });
    }
    function AgreementCheckList(AgreementNo) {
        $("#img-loader").removeClass("hide");
        $.ajax(
        {
            url: "../Tca/AgreementCheckList",
            type: "Get",
            data: { AgreementNo: AgreementNo },
            //contentType: "application/json",
            //processData: false,
            success: function (html) {
                $("#AgreementCheckList").html(html);
            },
            error: function (jqXhr, textStatus, errorThrown) {
                alert("Error '" + jqXhr.status + "' (textStatus: '" + textStatus + "', errorThrown: '" + errorThrown + "')");
            },
            complete: function () {
                $("#img-loader").addClass("hide");
            }
        });
    }
    function getAgreementList() {
        $.ajax(
           {
               url: "../Tca/List",
               type: "Get",
               data: { Search: "", page: 1 },
               success: function (html) {
                   $("#agreementList").html(html);
               },
               error: function (jqXhr, textStatus, errorThrown) {
                   alert("Error '" + jqXhr.status + "' (textStatus: '" + textStatus + "', errorThrown: '" + errorThrown + "')");
               },
               complete: function () {
                   //   $("#VerifyIdDetailsLoader").addClass("hide");
               }
           });
    }
</script>
